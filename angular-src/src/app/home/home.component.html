<div class="container">

  <div id="userArea"  [hidden]="registered" class="row chat-login-bar">
    <div class="col-xs-6 col-md-6 col-xs-offset-3 col-md-offset-3">
      <form id="userForm" (ngSubmit)="sendUser()">
        <label> Enter Username &rarr; </label>
        <div class="input-group">
          <input type="text" autocomplete="on" class="form-control input-md chat-input" id="Username" placeholder="Let's get you logged in ..." name="Username" [(ngModel)]="Username" />
          <span class="input-group-btn">
              <button type="submit" class="btn btn-md btn-warning">
                  <i class="fa fa-paper-plane" aria-hidden="true"></i>
              </button>
          </span>
        </div>
      </form>
    </div>
  </div>

  <div class="row chat-window col-xs-5 col-md-3">
    <!-- User Area -->
    <div class="col-xs-4 col-md-4" [hidden]="!registered">
        <div class="well">
          <h4 class="text-center text-success">
            LIVE USERS
          </h4>
          <hr>
          <ul class="list-group online-users" id="users" *ngFor="let n of users"> <i class="fa fa-user-circle fa-fw" aria-hidden="true"></i> &nbsp; {{ n.user }} </ul>
        </div>
    </div>

    <div class="col-xs-8 col-md-8" [hidden]="!registered">
      <div class="panel panel-warning">
        <div class="panel-heading chat-top-bar">
          <div class="col-md-8 col-xs-8">
            <h3 class="text-info">
              SAY HELLO
            </h3>
          </div>
        </div>
        <div class="panel-body">

          <!-- Main message history area -->

          <div class="msg-container-base">
            <div class="row msg-container" *ngFor="let message of messages">
              <div class="col-xs-12 col-md-12">
                <div class="chat-msg" [ngClass]="{'chat-msg-sent': selfAuthored, 'chat-msg-received': !selfAuthored}">
                    <img *ngIf="message.imageUrl" class="profile" [ngClass]="{'pull-right': selfAuthored, 'pull-left': !selfAuthored}" [src]="message.imageUrl" />
                  <div class="message-text">
                    <p>&nbsp; {{ message.text }} </p>
                  </div>
                  <div class="chat-msg-author">
                        <strong>{{ message.username }}</strong>&nbsp;
                      <span class="time"><small><i class="fa fa-fw fa-check" aria-hidden="true"></i></small><small>{{ message.date | date: 'shortTime' }}</small></span>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Send message -->

          <div class="chat-bottom-bar">
            <form style="display:inherit" (ngSubmit)="sendMessage()">
              <div class="input-group" >
                <input type="text" class="form-control input-sm chat-input" placeholder="Type message ..." name="messageText" [(ngModel)]="messageText" />
                <span class="input-group-btn">
                  <!-- <input type="submit" class="btn btn-sm chat-submit-button" /> -->
                  <button type="submit" class="btn btn-sm btn-warning">
                    <i class="fa fa-paper-plane" aria-hidden="true"></i>
                  </button>
                </span>
              </div>
            </form>
          </div>
          
        </div>
      </div>
    </div>
  </div>
</div>